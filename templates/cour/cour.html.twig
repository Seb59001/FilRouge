{% extends 'base.html.twig' %}

{% block title %}Tableau Cours{% endblock %}

{% block body %}
    <div class="container">
        <!--main content wrapper-->
        <div class="mcw">
            <!--main content view-->

            <div class="container">
                <!-- Content here -->
                <div class="example-wrapper">
                    <h1>Liste des cours </h1>
                    {% for message in app.flashes('success') %}
                        <div class="alert  alert-success mt-4">
                            {{ message }}
                        </div>
                    {% endfor %}
                    {% for message in app.flashes('info') %}
                        <div class="alert  alert-danger mt-4">
                            {{ message }}
                        </div>
                    {% endfor %}
                </div>
                <div class="cv">
                    <div>
                        <div class="inbox">
                            <div class="inbox-sb"></div>
                            <div class="inbox-bx container-fluid">
                                <div class="row">
                                    <div id="btn">
                                        <a id="abtn" href="{{ path('app_cour_add') }}" class="btn btn-info"
                                           type="button">Ajouter</a>
                                    </div>
                                    <div class="col-md-10">
                                        <table id="myTable" class="table table-stripped">
                                            <thead>
                                            <tr>
                                                <th><input class="class-checkboxes" type="checkbox" id="select-all"
                                                           name="select-all"/></th>
                                                <th>Libelee de Cour</th>
                                                <th>Date de debut</th>
                                                <th>Date de FIn</th>
                                                <th>Formateur</th>
                                                <th>Modifier</th>
                                                <th>Supprimer</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for cour in courListe %}
                                            <tr>
                                                <td><input id="check-button" class="class-checkboxes" type="checkbox"
                                                           name="id" value="{{ cour.id }}"/></td>
                                                <td id="gh"> {{ cour.libeleeCour }}</td>
                                                <td> {{ cour.dateDebut|format_date(locale='fr',pattern="dd MMMM YYYY")}}</td>
                                                <td> {{ cour.dateFin|format_date(locale='fr',pattern="dd MMMM YYYY")}} </td>
                                                {% if cour.usersCours is not null %}
                                                    <td>{{ cour.usersCours.nom }}, {{ cour.usersCours.prenom }} </td>
                                                {% else %}
                                                    <td>Non Attribuer</td>
                                                {% endif %}
                                                <td>

                                                    <a id="edit-button"
                                                       href="{{ path('app_cour_edit', {'id': cour.id }) }}"
                                                       class="btn btn-warning" type="button">Modifier</a></td>
                                                <td><a id="delete-button myModal"
                                                       href="{{ path('app_cour_delete', {'id': cour.id}) }}"
                                                       class="btn btn-danger"
                                                       onclick="confirm('Etes-vous sÃ»re de vouloire supprimer ce cours?')"
                                                       type="button">Supprimer</a></td>
                                                {% endfor %}
                                            </tr>
                                            </tbody>
                                        </table>
                                        <div class="navigation">
                                            {{ knp_pagination_render(courListe) }}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>


{% endblock %}

{% block javascripts
 %}
 <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
 <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.js"></script>
 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
 <script rel="stylesheet" type="text/javascript" src="{{asset ('assets/js/script.js') }}"></script>
 
 	<script>
var table = new DataTable('#myTable', {
	"sDom": '<"top"f>rt<"bottom"pli>',
    language: {
        url: '//cdn.datatables.net/plug-ins/1.13.4/i18n/fr-FR.json',
		search: '', searchPlaceholder: "Rechercher..",
    },
	
});
</script>
 {% endblock %}
